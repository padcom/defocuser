(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{151:function(e,t,o){"use strict";o.r(t);var a=o(0),s=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"content"},[o("h1",{attrs:{id:"introduction"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#introduction","aria-hidden":"true"}},[e._v("#")]),e._v(" Introduction")]),o("p",[e._v("It has been way too many times when I implemented (with greater or lesser success) automated way\nfor closing dropdowns when clicking outside of them or by pressing the Escape key. This utility\nis a way for me to stop repeating myself and have it working always the way it should.")]),o("h1",{attrs:{id:"how-it-works"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#how-it-works","aria-hidden":"true"}},[e._v("#")]),e._v(" How it works")]),o("p",[e._v("When a new instance of "),o("code",[e._v("Defocuser")]),e._v(" is created it hooks itself to "),o("code",[e._v("document")]),e._v("'s "),o("code",[e._v("click")]),e._v(" and "),o("code",[e._v("keydown")]),e._v(" events.\nWhen the user presses the "),o("code",[e._v("Escape")]),e._v(" key or clicks anywhere defocuser checks if there are any elements\nadded to it using the "),o("code",[e._v("addElement")]),e._v(" method. If that is the case it checks if the click happened within the\ntree that has the "),o("code",[e._v("el")]),e._v(" as parent. If that is the case it does nothing. However if the element clicked is not\nwithin the currently actioned element on the page then the given callback is executed.")]),o("h2",{attrs:{id:"usage"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#usage","aria-hidden":"true"}},[e._v("#")]),e._v(" Usage")]),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("import { Defocuser } from 'defocuser'\n")])])]),o("p",[e._v("To use the Defocuser all you have to do is create an instance of the "),o("code",[e._v("Defocuser")]),e._v(" class and then\ncall the "),o("code",[e._v("addElement")]),e._v(" method. This method takes 5 parameters:")]),o("ul",[o("li",[o("code",[e._v("el")]),e._v(" - that is the root of your dropdown")]),o("li",[o("code",[e._v("phase")]),e._v(" - that should be either "),o("code",[e._v("capture")]),e._v(" or "),o("code",[e._v("bubbling")])]),o("li",[o("code",[e._v("callback")]),e._v(" - that is the callback called when the situation that the user clicked outside")]),o("li",[o("code",[e._v("stopPropagation")]),e._v(" - when handling the "),o("code",[e._v("keydown")]),e._v(" or "),o("code",[e._v("click")]),e._v(" events call "),o("code",[e._v("e.stopPropagation()")]),e._v(" (default: "),o("code",[e._v("false")]),e._v(")")]),o("li",[o("code",[e._v("preventDefault")]),e._v(" - when handling the "),o("code",[e._v("keydown")]),e._v(" or "),o("code",[e._v("click")]),e._v(" events call "),o("code",[e._v("e.preventDefault()")]),e._v(" (default: "),o("code",[e._v("false")]),e._v(")")])]),o("p",[e._v("If for some reason there is an additional element (like an input or label that you use to toggle\nyour dropdow) "),o("code",[e._v("Defocuser")]),e._v(" has you covered with the "),o("code",[e._v("setSecondaryElement")]),e._v(" method that takes\nthe following parameters:")]),o("ul",[o("li",[o("code",[e._v("el")]),e._v(" - that is the root of your dropdown (primary)")]),o("li",[o("code",[e._v("secondary")]),e._v(" - that additional element to be taken into account when checking if the actioned\nelement is "),o("em",[e._v("inside")]),e._v(" or "),o("em",[e._v("outside")]),e._v(" of the dropdown")])]),o("h2",{attrs:{id:"remarks"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#remarks","aria-hidden":"true"}},[e._v("#")]),e._v(" Remarks")]),o("p",[e._v("The "),o("code",[e._v("Defocuser")]),e._v(" uses "),o("code",[e._v("MutationObserver")]),e._v(" to detect when the element has been removed from\nthe DOM. So you should physically remove the element to clean things up.")]),o("p",[e._v("Please see the following repository to see it in action used as a set of Vue directives")]),o("p",[e._v("https://github.com/padcom/defocuser-example")])])}],!1,null,null,null);t.default=s.exports}}]);